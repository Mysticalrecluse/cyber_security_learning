## httpåŸºç¡€çŸ¥è¯†

### Webæµè§ˆå™¨å‘èµ·HTTPè¯·æ±‚å¾—å…¸å‹åœºæ™¯

![image-20250617214154980](D:\git_repository\cyber_security_learning\markdown_img\image-20250617214154980-1752047439883-1.png)

**è¯¦è§£è¿‡ç¨‹**

- é¦–å…ˆæœåŠ¡å™¨ç›‘å¬æ‰“å¼€äº†443æˆ–è€…80ç«¯å£
- æµè§ˆå™¨ä»urlä¸­è§£æå‡ºåŸŸå
- æ ¹æ®åŸŸåæŸ¥è¯¢DNSï¼Œè·å–åŸŸåå¯¹åº”å¾—IPåœ°å€
- æµè§ˆå™¨æ ¹æ®ipåœ°å€ï¼Œå’ŒæœåŠ¡å™¨ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹TCPé“¾æ¥ï¼Œhttpsä¼šé¢å¤–å®ŒæˆTLS/SSLçš„æ¡æ‰‹
- æ„é€ HTTPè¯·æ±‚ï¼Œåœ¨æ„é€ è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå¡«å……ç›¸åº”çš„HTTPå¤´éƒ¨ï¼ŒåŒ…æ‹¬ä¸Šä¸‹æ–‡æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œè‡³å¤´éƒ¨ä¸­
- é€šè¿‡é“¾æ¥å‘èµ·HTTPè¯·æ±‚
- æœåŠ¡å™¨æ¥æ”¶åˆ°HTTPè¯·æ±‚åï¼Œå®Œæˆèµ„æºçš„è¡¨è¿°ï¼ŒæŠŠå®¢æˆ·ç«¯è¯·æ±‚çš„æ–‡ä»¶å¦‚htmlé¡µé¢ä½œä¸ºåŒ…ä½“è¿”å›ç»™æµè§ˆå™¨
- æµè§ˆå™¨åœ¨æ¸²æŸ“å¼•æ“ä¸­è§£æå“åº”ï¼Œæ ¹æ®è¿™ä¸ªå“åº”ä¸­ä¸€äº›å…¶ä»–çš„è¶…é“¾æ¥èµ„æºå»æ„é€ å…¶ä»–HTTPè¯·æ±‚



### Hypertext Transfer Protocol(HTTP)åè®®

![image-20250617214406486](D:\git_repository\cyber_security_learning\markdown_img\image-20250617214406486-1752047439884-2.png)

- **Stateless**ï¼šæ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿ç»­çš„ä¸¤ä¸ªè¯·æ±‚ä¸­ï¼Œåä¸€ä¸ªè¯·æ±‚ä¸èƒ½ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚ä¸­ç›¸åº”çš„å­—æ®µã€‚æˆ–è€…headå¤´éƒ¨ç­‰ã€‚

- **request/reponse**ï¼šè¿™é‡Œè¯´æ˜ä¸€å®šæ˜¯åŸºäºä¸€ä¸ªè¿æ¥ï¼Œé¦–å…ˆç”±å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨æ‰èƒ½åœ¨è¿™ä¸ªè¿æ¥ä¸Šå‘èµ·responseå“åº”ï¼Œå®ƒå¿…é¡»ä»¥è¿™æ ·çš„æ–¹å¼å·¥ä½œã€‚

- **extensible semantics**ï¼šè¯­ä¹‰å¯æ‰©å±•ï¼Œåè®®çš„è®¾è®¡å…è®¸ä¸åŒç‰ˆæœ¬ä¹‹é—´å…¼å®¹ï¼Œå¹¶ä¸”æ–°ç‰ˆæœ¬ä¸­å¢åŠ çš„æ–°åŠŸèƒ½ä¸ä¼šå½±å“è€ç‰ˆæœ¬çš„æ­£å¸¸å·¥ä½œã€‚

  > **HTTP çš„è¯­ä¹‰å¯æ‰©å±•è¡¨ç°åœ¨å“ªï¼Ÿ**
  >
  > ä¾‹å­ï¼š
  >
  > - HTTP/1.1 å¼•å…¥äº† `Host` å¤´ã€æŒä¹…è¿æ¥ï¼ˆKeep-Aliveï¼‰ã€ç®¡é“åŒ–ç­‰æ–°ç‰¹æ€§ï¼›
  > - HTTP/1.0 çš„æœåŠ¡å™¨å¹¶ä¸äº†è§£è¿™äº›æ–°ç‰¹æ€§ï¼›
  > - ä½† **æµè§ˆå™¨ä»ç„¶å¯ä»¥å‘ HTTP/1.0 çš„æœåŠ¡å™¨å‘é€å…¼å®¹çš„è¯·æ±‚**ï¼Œå¹¶ä¸” **æœåŠ¡å™¨å¯ä»¥æ­£å¸¸å“åº”**ã€‚
  >
  > åŸå› ï¼š
  >
  > - HTTP çš„è¯·æ±‚/å“åº”ç»“æ„æ˜¯åŸºäºã€Œ**æ–‡æœ¬åè®®** + **é”®å€¼å¯¹å¤´éƒ¨**ã€çš„å½¢å¼ï¼›
  > - **ä¸è®¤è¯†çš„ header**ï¼ŒæœåŠ¡å™¨/å®¢æˆ·ç«¯æ˜¯å…è®¸ **å¿½ç•¥** çš„ â€”â€” è¿™æ˜¯åè®®è®¾è®¡ä¸Šçš„è¦æ±‚ï¼›
  > - æ‰€ä»¥ HTTP/1.1 å®¢æˆ·ç«¯å³ä½¿å‘é€äº†ä¸€äº› HTTP/1.1 æ‰å®šä¹‰çš„å¤´éƒ¨ï¼ŒHTTP/1.0 çš„æœåŠ¡å™¨çœ‹åˆ°ä¸è®¤è¯†çš„å¤´éƒ¨æ—¶ä¼š **è·³è¿‡å®ƒä»¬**ï¼Œåªå¤„ç†å®ƒè®¤è¯†çš„é‚£éƒ¨åˆ†ã€‚

  

- **self-decriptive**ï¼šæˆ‘ä»¬æ‰€ä¼ é€çš„æ¶ˆæ¯ï¼Œæ˜¯è¦ä¸€ä¸ªå­æè¿°çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªè¯·æ±‚ä¸­å°±èƒ½çŸ¥é“è¿™ä¸ªæ¶ˆæ¯æ˜¯è§†é¢‘è¿˜æ˜¯æ–‡æœ¬è¿˜æ˜¯éŸ³é¢‘ï¼Œè€Œä¸éœ€è¦ä¾èµ–äºå…¶ä»–çš„è¯·æ±‚

- **hypertext information**ï¼šè¿™ä¸ªæ˜¯ä¸€ä¸ªè¶…æ–‡æœ¬ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¼ è¾“çš„ä¸åªæœ‰æ–‡æ¡£ï¼Œè¿˜æœ‰è§†é¢‘ï¼ŒéŸ³é¢‘ç­‰å¤§é¢—ç²’åº¦çš„å†…å®¹







### OSIï¼ˆOpen System Interconnection Reference Modelï¼‰æ¦‚å¿µæ¨¡å‹

![image-20250617164913865](D:\git_repository\cyber_security_learning\markdown_img\image-20250617164913865-1752047439884-5.png)

SIæ˜¯ä¸€ä¸ªæ¦‚å¿µæ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»æ¥æ²¡æœ‰è¢«å®ç°è¿‡ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨å®ç°ç½‘ç»œåè®®çš„æ—¶å€™ï¼Œå¿…é¡»è¦å‚è€ƒè¿™æ ·ä¸€ä¸ªæ¦‚å¿µæ¨¡å‹ï¼Œæ‰èƒ½éå¸¸å¥½çš„ç†è§£ç½‘ç»œä¸­çš„åè®®åˆ†å±‚



**åº”ç”¨å±‚ï¼š** HTTPï¼ŒFTPï¼ŒDNSï¼Œéƒ½åœ¨åº”ç”¨å±‚ï¼Œåº”ç”¨å±‚è§£å†³çš„æ˜¯ä¸šåŠ¡é—®é¢˜

**è¡¨ç¤ºå±‚ï¼š** è¡¨ç¤ºå±‚è´Ÿè´£æŠŠç½‘ç»œä¸­çš„æ¶ˆæ¯è½¬æ¢æˆåº”ç”¨å±‚å¯ä»¥è¯»å–çš„æ¶ˆæ¯

> æ¯”å¦‚ï¼šsslï¼ŒsslåŠ å¯†çš„æ•°æ®ï¼Œç”¨æˆ·æ˜¯æ— æ³•ç›´æ¥è¯»å–çš„ï¼Œéœ€è¦è¡¨ç¤ºå±‚åšä¸€æ¬¡è½¬æ¢ã€‚æ‰€ä»¥TLS/SSL å·¥ä½œåœ¨è¡¨ç¤ºå±‚

**ä¼šè¯å±‚ï¼š** æ˜¯ä¸€ä¸ªå®Œå…¨æ¦‚å¿µåŒ–çš„ä¸€å±‚ï¼ŒSessionã€‚ä»–è´Ÿè´£å»ºç«‹ä¼šè¯ï¼Œæ¡æ‰‹ï¼Œç»´æŒè¿æ¥ï¼Œå…³é—­ï¼Œä½†å®é™…ä¸Šä¼ è¾“å±‚ï¼ˆTCPï¼‰å’Œè¡¨ç¤ºå±‚ï¼Œéƒ½æœ‰éƒ¨åˆ†å»¶ä¼¸åˆ°ä¼šè¯å±‚ï¼Œå› æ­¤ä¼šè¯å±‚åªæ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚ç”¨æ¥å¸®åŠ©ç†è§£ä¼šè¯è¿™ä¸ªæ¦‚å¿µã€‚

**ä¼ è¾“å±‚ï¼š** åŒ…æ‹¬TCPï¼ŒUDPåè®®ï¼Œä¸»è¦è§£å†³è¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´çš„é€šè®¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒTCPè¿˜è§£å†³äº†æ•°æ®ä¼ è¾“çš„å¯é æ€§ã€‚

**ç½‘ç»œå±‚ï¼š**IPåè®®ï¼Œç¡®ä¿äº†åœ¨å¹¿åŸŸç½‘ä¸­ï¼Œå¯ä»¥æŠŠæŠ¥æ–‡ä»ä¸€ä¸ªä¸»æœºå‘é€åˆ°å¦ä¸€ä¸ªä¸»æœºä¸Šã€‚

**æ•°æ®é“¾è·¯å±‚ï¼š**è´Ÿè´£å±€åŸŸç½‘ä¸­çš„ä¸»æœºé—´æ•°æ®äº¤æ¢ã€‚



OSIä»…ä»…æ˜¯ä¸€ä¸ªæ¦‚å¿µæ¨¡å‹ï¼Œè€Œäº’è”ç½‘ä¸Šå®é™…ä½¿ç”¨çš„æ˜¯TCP/IPæ¨¡å‹

<img src="D:\git_repository\cyber_security_learning\markdown_img\image-20250617164938809-1752047439884-7.png" alt="image-20250617164938809" style="zoom:150%;" />

#### æŠ“åŒ…æ¼”ç¤ºæ•°æ®åŒ…å±‚å±‚å°è£…

**åº”ç”¨å±‚ï¼š**

![image-20250617184328846](D:\git_repository\cyber_security_learning\markdown_img\image-20250617184328846-1752047439884-8.png)

**ä¼ è¾“å±‚å¤´éƒ¨æ•°æ®**

![image-20250617184405245](D:\git_repository\cyber_security_learning\markdown_img\image-20250617184405245-1752047439884-9.png)

**ç½‘ç»œå±‚å¤´éƒ¨æ•°æ®**

![image-20250617184430070](D:\git_repository\cyber_security_learning\markdown_img\image-20250617184430070-1752047439884-10.png)

**æ•°æ®é“¾è·¯å±‚å¤´éƒ¨æ•°æ®**

![image-20250617184522885](D:\git_repository\cyber_security_learning\markdown_img\image-20250617184522885-1752047439884-11.png)







## webç«™ç‚¹éƒ¨ç½²



### ä¸»æµ Web æœåŠ¡ä»‹ç»

WebæœåŠ¡æ˜¯æä¾›Webä¿¡æ¯æœåŠ¡çš„è½¯ä»¶ï¼Œå®ƒé€šè¿‡HTTPæˆ–HTTPSåè®®ä¸å®¢æˆ·ç«¯é€šä¿¡ï¼Œæ¥å—å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ å¤„ç†è¯·æ±‚ï¼Œç„¶åè¿”å›å“åº”æ•°æ®ï¼ŒWeb æœåŠ¡å™¨çš„ä¸»è¦å·¥ä½œæ˜¯é€šè¿‡å­˜å‚¨ã€å¤„ç†å’Œäº¤ä»˜ç½‘é¡µç»™ç”¨æˆ·æ¥æ˜¾ç¤ºç½‘ç«™ å†…å®¹ï¼Œä¸€ä¸ªæˆç†Ÿçš„WEBæœåŠ¡å™¨è½¯ä»¶ä¸ä»…ä»…åªæ˜¯å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè¿˜è¦æœ‰è‰¯å¥½çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ï¼Œä»¥æ»¡è¶³ç”¨æˆ·ä¸æ–­å˜åŒ–å’Œå¢é•¿çš„éœ€æ±‚



ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»æµçš„WebæœåŠ¡å™¨ä»¥åŠå®ƒä»¬çš„ç‰¹ç‚¹ï¼Œè¿™äº›WebæœåŠ¡å™¨éƒ½æœ‰å„è‡ªç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œ è¦å–å†³äºé¡¹ç›®éœ€æ±‚ï¼Œæ€§èƒ½è¦æ±‚åŠå¼€å‘äººå‘˜åå¥½ç­‰



**Apache**

Apache æ˜¯ç›®å‰å¸‚åœºå æœ‰ç‡æœ€é«˜çš„WEBæœåŠ¡å™¨ï¼Œå®ƒå…è´¹å¼€æºï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿï¼Œå¯åœ¨å¤šå¹³ å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬Unixã€Linuxã€Windowsç­‰ï¼ŒåŒæ—¶å…·æœ‰å¼ºå¤§çš„æ¨¡å—åŒ–ä½“ç³»ç»“æ„ï¼Œæä¾›äº†ä¸°å¯Œçš„æ¨¡å—ï¼Œä¹Ÿ æ”¯æŒè®¸å¤šç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰æœåŠ¡å™¨åŠŸèƒ½ï¼Œå¦å¤–ä¹Ÿæ”¯æŒè™šæ‹Ÿä¸»æœºé…ç½®



**Nginx**

Nginxæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„WebæœåŠ¡å™¨ï¼Œå¹¿æ³›åº”ç”¨äºé«˜å¹¶å‘ã€å¤§æµé‡çš„äº’è”ç½‘åº”ç”¨åœºæ™¯ä¸­ï¼ŒNginxè¿˜å¯ä»¥ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ã€è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œå…¶ä¼˜å¼‚çš„é™æ€å¤„ç†èƒ½åŠ›ï¼Œä½¿å…¶åœ¨å¤„ç†é™æ€æ–‡ä»¶æ—¶å…·æœ‰å¾ˆé«˜çš„æ•ˆç‡ï¼Œ ç”±äºé€‰æ‹©äº†é«˜æ•ˆçš„ç½‘ç»œIOæ¨¡å‹ï¼Œä½¿å…¶åœ¨é«˜å¹¶å‘å¤§æµé‡çš„å·¥ä½œåœºæ™¯ä¸‹ï¼Œå¯¹äºèµ„æºï¼ˆCPUï¼Œå†…å­˜ç­‰ï¼‰çš„è¦æ±‚éå¸¸ä½ï¼Œä¸”è¿è¡Œéå¸¸ç¨³å®š



**Tomcat**

Tomcatæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç ã€è¿è¡Œ servlet å’Œ JSP Web åº”ç”¨è½¯ä»¶ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªWEBæœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª Servle tå’Œ JSP å®¹å™¨ï¼Œä½†å…¶å¯¹é™æ€æ–‡ä»¶å’Œé«˜å¹¶å‘çš„å¤„ç†èƒ½åŠ›è¾ƒå¼±







#### WEB æœåŠ¡å™¨å¸‚åœºå æœ‰ç‡æ’å

W3Techsï¼Œå…¨å **Web Technology Surveys**ï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ç»Ÿè®¡å…¨çƒç½‘ç«™ä½¿ç”¨çš„æŠ€æœ¯æƒ…å†µçš„ç½‘ç«™ï¼ŒåŒ…æ‹¬ï¼š

- Web æœåŠ¡å™¨ï¼ˆå¦‚ Nginxã€Apacheï¼‰
- ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ PHPã€Node.jsï¼‰
- CMSï¼ˆå¦‚ WordPressã€Drupalï¼‰
- JS æ¡†æ¶ã€CDNã€SSL ä½¿ç”¨æƒ…å†µç­‰

```http
https://w3techs.com/technologies/overview/web_server
```

This diagram shows the percentages of websites using various web servers. See [technologies overview](https://w3techs.com/technologies) for explanations on the methodologies used in the surveys. Our reports are updated daily.ï¼ˆå·ç§°æ¯æ—¥æ›´æ–°ï¼‰

Nginx is used by 33.7% of all the websites whose web server we know.

| [Nginx](https://w3techs.com/technologies/details/ws-nginx)   | 33.7%                     |
| :----------------------------------------------------------- | ------------------------- |
| [Apache](https://w3techs.com/technologies/details/ws-apache) | 26.0%                     |
| [Cloudflare Server](https://w3techs.com/technologies/details/ws-cloudflare) | 24.0%                     |
| [LiteSpeed](https://w3techs.com/technologies/details/ws-litespeed) | 14.7%                     |
| [Node.js](https://w3techs.com/technologies/details/ws-nodejs) | 4.6%                      |
| [Microsoft-IIS](https://w3techs.com/technologies/details/ws-microsoftiis) | 3.9%                      |
| [Envoy](https://w3techs.com/technologies/details/ws-envoyproxy) | 1.4%                      |
| [Google Servers](https://w3techs.com/technologies/details/ws-google) | 0.8%                      |
| [Caddy](https://w3techs.com/technologies/details/ws-caddy)   | 0.3%                      |
| [IdeaWebServer](https://w3techs.com/technologies/details/ws-ideawebserver) | 0.1%                      |
| [Tengine](https://w3techs.com/technologies/details/ws-tengine) | 0.1%                      |
| [Kestrel](https://w3techs.com/technologies/details/ws-kestrel) | 0.1%                      |
| [Cowboy](https://w3techs.com/technologies/details/ws-cowboy) | 0.1%                      |
| [ArvanNginx](https://w3techs.com/technologies/details/ws-arvannginx) | 0.1%                      |
| Percentages of websites using various web servers Note: a website may use more than one web server | W3Techs.com, 15 June 2025 |









### NginxæœåŠ¡

#### Ubuntuç¯å¢ƒéƒ¨ç½²Nginx

ç®€ä»‹

```bat
	Nginx ä¸€èˆ¬å¯ä»¥ä½¿ç”¨ apt/yum æ¥å®‰è£…äºŒè¿›åˆ¶åŒ…ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ç‰¹å®šçš„åŠŸèƒ½æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æºç å®‰è£…ï¼Œä½¿ç”¨ yum/apt å®‰è£…çš„æ—¶å€™ï¼Œåªèƒ½å®‰è£…æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆå‚å•†å·±ç»æäº¤åˆ°ä»“åº“ä¸­çš„ç‰ˆæœ¬ï¼Œå¦‚æœéœ€è¦å®‰è£…æ›´æ–°çš„ç‰ˆæœ¬æˆ–å†å²ç‰ˆæœ¬ï¼Œå¯è‡ªè¡Œé…ç½®å®˜æ–¹ä»“åº“ï¼Œç„¶åè¿›è¡Œå®‰è£…ã€‚
```

Ubuntuç³»ç»Ÿè½¯ä»¶å®‰è£…

```bash
root@ubuntu24:~# apt install nginx -y
```

```bat
æŸ¥çœ‹æœåŠ¡çŠ¶æ€
[root@magedu ~]# systemctl is-active nginx
active

[root@magedu ~]# ss -ntlp
State       Recv-Q      Send-Q           Local Address:Port             Peer Address:Port      Process                           
LISTEN      0           4096                127.0.0.54:53                    0.0.0.0:*          users:(("systemd-resolve",pid=738,fd=17))                                            
LISTEN      0           511                    0.0.0.0:80                    0.0.0.0:*          users:(("nginx",pid=1759,fd=5),("nginx",pid=1758,fd=5),("nginx",pid=1757,fd=5))      
LISTEN      0           4096             127.0.0.53%lo:53                    0.0.0.0:*          users:(("systemd-resolve",pid=738,fd=15))                                            
LISTEN      0           128                  127.0.0.1:6010                  0.0.0.0:*          users:(("sshd",pid=1367,fd=7))   
LISTEN      0           128                      [::1]:6010                     [::]:*          users:(("sshd",pid=1367,fd=5))   
LISTEN      0           511                       [::]:80                       [::]:*          users:(("nginx",pid=1759,fd=6),("nginx",pid=1758,fd=6),("nginx",pid=1757,fd=6))      
LISTEN      0           4096                         *:22                          *:*          users:(("sshd",pid=1365,fd=3),("systemd",pid=1,fd=119))
```

æµè§ˆå™¨è®¿é—®æ•ˆæœ

![image-20250618101807681](D:\git_repository\cyber_security_learning\markdown_img\image-20250618101807681-1752047439884-12.png)

#### Nginx è½¯ä»¶ç¯å¢ƒè§£è¯»

é…ç½®æ–‡ä»¶ç›®å½•

```bat
# Ubuntuç³»ç»Ÿ
[root@magedu ~]# ls /etc/nginx
conf.d        fastcgi_params  koi-win     modules-available  nginx.conf    scgi_params      sites-enabled  uwsgi_params
fastcgi.conf  koi-utf         mime.types  modules-enabled    proxy_params  sites-available  snippets       win-utf
```

é»˜è®¤é¦–é¡µ

```bat
[root@magedu ~]# ls /var/www/html
index.nginx-debian.html

# åœ¨ /var/www/html ç›®å½•ä¸‹æ·»åŠ index.html
[root@magedu ~]# echo hello > /var/www/html/index.html
[root@magedu ~]# curl 10.0.0.231
hello
```



#### å¸¸ç”¨ nginx å‘½ä»¤

å¸¸ç”¨å‘½ä»¤

```bat
# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
[root@magedu ~]# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful

# é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶
[root@magedu ~]# nginx -s reload
2025/06/18 10:27:24 [notice] 1861#1861: signal process started
```



#### Nginxé…ç½®è§£è¯»

##### nginxé…ç½®ç›®å½•ç»“æ„

```bat
[root@magedu ~]# ll /etc/nginx
total 76
drwxr-xr-x   8 root root 4096 Jun 18 10:14 ./
drwxr-xr-x 114 root root 4096 Jun 18 10:14 ../
drwxr-xr-x   2 root root 4096 Apr  1 02:38 conf.d/                 # å­é…ç½®æ–‡ä»¶ç›®å½•ï¼Œåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­è¢«åŒ…å«ï¼Œé»˜è®¤ä¸ºç©º
-rw-r--r--   1 root root 1125 Dec  1  2023 fastcgi.conf            # FastCGIé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ç›¸å…³é…ç½®é¡¹ï¼Œè¢«å¼•ç”¨
-rw-r--r--   1 root root 1055 Dec  1  2023 fastcgi_params          # FastCGIé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ç›¸å…³é…ç½®é¡¹ï¼Œè¢«å¼•ç”¨
-rw-r--r--   1 root root 2837 Dec  1  2023 koi-utf                 # ç”¨äºè½¬æ¢KOI8-Rç¼–ç çš„å­—ç¬¦é›†åˆ°UTF-8
-rw-r--r--   1 root root 2223 Dec  1  2023 koi-win                 # ç”¨äºè½¬æ¢KOI8-Uç¼–ç çš„å­—ç¬¦é›†åˆ°UTF-8
-rw-r--r--   1 root root 5465 Dec  1  2023 mime.types              # åŒ…å«æ–‡ä»¶æ‰©å±•åå’Œç›¸åº”MIMEç±»å‹çš„æ˜ å°„
drwxr-xr-x   2 root root 4096 Apr  1 02:38 modules-available/      # æ¨¡å—é…ç½®æ–‡ä»¶ç›®å½•
drwxr-xr-x   2 root root 4096 Apr  1 02:38 modules-enabled/        # å½“å‰ç”Ÿæ•ˆçš„æ¨¡å—é…ç½®æ–‡ä»¶ç›®å½•ï¼Œç”¨è½¯é“¾æ¥æŒ‡å‘çœŸæ­£çš„æ–‡ä»¶
-rw-r--r--   1 root root 1446 Dec  1  2023 nginx.conf              * ä¸»é…ç½®æ–‡ä»¶
-rw-r--r--   1 root root  180 Dec  1  2023 proxy_params            # åå‘ä»£ç†é…ç½®æ–‡ä»¶
-rw-r--r--   1 root root  636 Dec  1  2023 scgi_params             # SCGIé…ç½®æ–‡ä»¶ï¼ŒSCGIå’ŒFastCGIç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸€ç§åè®®
drwxr-xr-x   2 root root 4096 Jun 18 10:14 sites-available/        # æ‰€æœ‰åŸŸåé…ç½®æ–‡ä»¶
drwxr-xr-x   2 root root 4096 Jun 18 10:14 sites-enabled/          * ç”Ÿæ•ˆçš„åŸŸåé…ç½®æ–‡ä»¶ï¼Œç”¨è½¯è¿æ¥æŒ‡å‘site-availableä¸­çš„æ–‡ä»¶
drwxr-xr-x   2 root root 4096 Jun 18 10:14 snippets/               # é€šç”¨çš„é…ç½®ç‰‡æ®µç›®å½•ï¼Œéœ€è¦æ—¶è¢«å¼•ç”¨
-rw-r--r--   1 root root  664 Dec  1  2023 uwsgi_params            # é…ç½® Nginx uWSGI æ¨¡å—çš„é»˜è®¤å‚æ•°çš„æ–‡ä»¶
-rw-r--r--   1 root root 3071 Dec  1  2023 win-utf                 # ç¼–ç è½¬æ¢æ˜ å°„è½¬åŒ–æ–‡ä»¶

```

Nginx é…ç½®æ–‡ä»¶æ ¼å¼è¯´æ˜

- é…ç½®æ–‡ä»¶ç”±æŒ‡ä»¤ä¸æŒ‡ä»¤å—æ„æˆ
- æ¯æ¡æŒ‡ä»¤ä»¥ ` ; ` åˆ†å·ç»“å°¾ï¼ŒæŒ‡ä»¤ä¸å€¼ä¹‹é—´ä»¥ç©ºæ ¼ç¬¦å·åˆ†éš”
- å¯ä»¥å°†å¤šæ¡æŒ‡ä»¤æ”¾åœ¨åŒä¸€è¡Œï¼Œç”¨åˆ†å·åˆ†éš”å³å¯ï¼Œä½†å¯è¯»æ€§å·®ï¼Œä¸æ¨è
- æŒ‡ä»¤å—ä»¥{ }å¤§æ‹¬å·å°†å¤šæ¡æŒ‡ä»¤ç»„ç»‡åœ¨ä¸€èµ·ï¼Œä¸”å¯ä»¥åµŒå¥—æŒ‡ä»¤å—
- include è¯­å¥å…è®¸ç»„åˆå¤šä¸ªé…ç½®æ–‡ä»¶ä»¥æå‡å¯ç»´æŠ¤æ€§
- ä½¿ç”¨ # å·æ·»åŠ æ³¨é‡Šï¼Œæé«˜å¯è¯»æ€§
- ä½¿ç”¨ $ ç¬¦å·ä½¿ç”¨å˜é‡
- å˜é‡åˆ†ä¸º Nginx å†…ç½®å˜é‡å’Œè‡ªå®šä¹‰å˜é‡ï¼Œè‡ªå®šä¹‰å˜é‡ç”¨ set æŒ‡ä»¤å®šä¹‰
- éƒ¨åˆ†æŒ‡ä»¤çš„å‚æ•°æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼





##### æ ¸å¿ƒé…ç½®æ–‡ä»¶

nginxé…ç½®çš„å®Œæ•´ç»“æ„

```bat
# --- å…¨å±€é…ç½®æ®µ ---
user ...;
worker_processes ...;
...
# --- äº‹ä»¶é©±åŠ¨ç›¸å…³çš„é…ç½® --
events {
     ...;
}

# --- http/https åè®®ç›¸å…³é…ç½®æ®µ --
http {
    ...;
    server {
        ...;
        location {
            ...;
        }
    }
}

# --- mail åè®®ç›¸å…³é…ç½®æ®µï¼Œé»˜è®¤è¢«æ³¨é‡Š --
mail {
    server {
        ...
    }
}
 
# --- stream åè®®ç›¸å…³é…ç½® --
stream {
    ...;
}
```

æŸ¥çœ‹é»˜è®¤ä¸»é…ç½®æ–‡ä»¶å†…å®¹

```bat
[root@magedu ~]# cat /etc/nginx/nginx.conf | grep -Ev "#|^$"
 # --- å…¨å±€é…ç½®æ®µ ---
user www-data;
worker_processes auto;
pid /run/nginx.pid;
error_log /var/log/nginx/error.log;
include /etc/nginx/modules-enabled/*.conf;

# --- äº‹ä»¶é©±åŠ¨ç›¸å…³çš„é…ç½® ---
events {
	worker_connections 768;
}

# --- http/https åè®®ç›¸å…³é…ç½®æ®µ ---
http {
	sendfile on;
	tcp_nopush on;
	types_hash_max_size 2048;
	include /etc/nginx/mime.types;
	default_type application/octet-stream;
	ssl_prefer_server_ciphers on;
	access_log /var/log/nginx/access.log;
	gzip on;
	include /etc/nginx/conf.d/*.conf;
	include /etc/nginx/sites-enabled/*;
}
```



##### Serveré…ç½®æ®µ

server ä¸»è¦ç”¨æ¥é…ç½®è™šæ‹Ÿä¸»æœºï¼Œå¯ä»¥åœ¨ä¸€å° web æœåŠ¡å™¨ä¸Šæ”¯æŒå¤šä¸ªåŸŸåï¼Œä¸€ä¸ª server é…ç½®æ®µä¸­å¯ ä»¥æœ‰å¤šä¸ª location é…ç½®ã€‚locationå—æ˜¯Serveré…ç½®æ®µä¸­çš„å…³é”®éƒ¨åˆ†ï¼Œç”¨äºè¿›ä¸€æ­¥ç»†åˆ†å¯¹è™šæ‹Ÿä¸»æœºçš„è¯·æ±‚å¤„ç†è§„åˆ™ã€‚locationå—å¯ä»¥åŸºäºè¯·æ±‚çš„URLè¿›è¡ŒåŒ¹é…ï¼Œå¹¶æ ¹æ®åŒ¹é…ç»“æœæ‰§è¡Œç›¸åº”çš„å¤„ç†æŒ‡ä»¤ã€‚



**å¸¸ç”¨ server å±æ€§**

å½“å‰è™šä»¥ä¸»æœºç›‘å¬çš„ip,portï¼Œæ˜¯å¦æ˜¯default_serverï¼Œæ˜¯å¦æ”¯æŒssl ç­‰ é»˜è®¤å€¼ *:80|*:8000; å¯ä»¥å†™å¤šæ¡ï¼Œå®Œå…¨è¯´æ˜è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£

```nginx
listen address[:port] [default_server] [ssl];       
listen port [default_server] [ssl];
listen unix:path [default_server] [ssl];    
```

```nginx
root path;              # å½“å‰è™šæ‹Ÿä¸»æœºç½‘é¡µæ–‡ä»¶ç›®å½•ï¼Œå†™åœ¨locationä¸­ï¼Œæ–‡ä»¶è·¯å¾„æ˜¯root+location
index file ...;         # å½“å‰è™šæ‹Ÿä¸»æœºçš„é»˜è®¤é¡µé¢ï¼Œå¯ä»¥å†™å¤šä¸ªï¼ŒæŒ‰é¡ºåºç”Ÿæ•ˆï¼Œé»˜è®¤ index.html
server_name name ...;   # è™šæ‹Ÿä¸»æœºåŸŸåï¼Œå¯ä»¥å†™å¤šä¸ªå€¼ï¼Œå®¢æˆ·ç«¯è¯·æ±‚å¤´ä¸­çš„ Host å­—æ®µä¼šä¸æ­¤å¤„åŒ¹é…
```



##### Locationé…ç½®æ®µ

**é…ç½®æ ·å¼**

```nginx
location [ = | ~ | ~* | ^~ ] uri { ... }
location @name { ... }
```

```bat
é…ç½®æ®µåŒ¹é…è§„åˆ™
	=              # ç”¨äºæ ‡å‡†uriå‰ï¼Œéœ€è¦è¯·æ±‚å­—ä¸²ä¸uriç²¾ç¡®åŒ¹é…ï¼ŒåŒºåˆ†å¤§å°å†™   
	^~             # ç”¨äºæ ‡å‡†uriå‰ï¼Œè¡¨ç¤ºåŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…ä»¥ç‰¹å®šå­—ç¬¦ä¸²å¼€å§‹ï¼ŒåŒºåˆ†å¤§å°å†™ 
	~              # ç”¨äºæ ‡å‡†uriå‰ï¼Œè¡¨ç¤ºåŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒºåˆ†å¤§å°å†™
	~*             # ç”¨äºæ ‡å‡†uriå‰ï¼Œè¡¨ç¤ºåŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸åŒºåˆ†å¤§å†™       
	/str           # ä¸å¸¦ç¬¦å· åŒ¹é…ä»¥ str å¼€å¤´çš„ uriï¼Œ/ ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦
	\              # ç”¨äºæ ‡å‡†uriå‰ï¼Œè¡¨ç¤ºåŒ…å«æ­£åˆ™è¡¨è¾¾å¼å¹¶ä¸”è½¬ä¹‰å­—ç¬¦ï¼Œå¯ä»¥å°† . * ?ç­‰è½¬ä¹‰ä¸ºæ™®é€šç¬¦å·    
	@name          # å®šä¹‰
```

```bat
å¸¸ç”¨é…ç½®é¡¹   
root path;             # å®šä¹‰ç½‘ç«™åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„å®¶ç›®å½•ï¼Œserver_root/location_root   
index file ...;        # å½“å‰é…ç½®æ®µçš„é»˜è®¤é¡µé¢ï¼Œå¯ä»¥å†™å¤šä¸ªï¼Œä¾æ¬¡ç”Ÿæ•ˆï¼Œé»˜è®¤ index.html
proxy_pass URL;        # è®¾ç½®åå‘ä»£ç†ï¼Œå°†ç¬¦åˆè§„åˆ™çš„è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡å™¨è¿›è¡Œå¤„ç†
```



#### Nginx webå®è·µ

##### serverå®è·µå‡†å¤‡

æŸ¥çœ‹é»˜è®¤é…ç½®æ–‡ä»¶

```nginx
[root@magedu ~]# grep -Ev '^$|#' /etc/nginx/sites-enabled/default
server {
	listen 80 default_server;
	listen [::]:80 default_server;
	root /var/www/html;
	index index.html index.htm index.nginx-debian.html;
	server_name _;
	location / {
		try_files $uri $uri/ =404;
	}
}
```

å‡†å¤‡å·¥ä½œ

```bash
# åˆ é™¤é»˜è®¤é…ç½®
root@magedu ~]# rm -f /etc/nginx/sites-enabled/default
```

```bat
# å®šåˆ¶åº”ç”¨é¡µé¢
mkdir /data/server/nginx/web{1..3} -p
echo "nginx web1" > /data/server/nginx/web1/index.html
echo "nginx web2" > /data/server/nginx/web2/index.html
echo "nginx web3" > /data/server/nginx/web3/index.html
```



#####  åŸºäºç«¯å£çš„ç«™ç‚¹å®è·µ

åŸºäºç«¯å£å·å®ç°å¤šserver

```nginx
[root@magedu ~]# vim /etc/nginx/conf.d/vhost.conf
server {
    listen 80;
    root /data/server/nginx/web1;
}

server {
    listen 81;
    root /data/server/nginx/web2;
}

server {
    listen 82;
    root /data/server/nginx/web3;
}

# æ£€æŸ¥é…ç½®æ–‡ä»¶
[root@magedu ~]# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful

# é‡æ–°åŠ è½½é…ç½®
[root@magedu ~]# nginx -s reload
2025/06/18 10:58:56 [notice] 2084#2084: signal process started
```

æ£€æµ‹æ•ˆæœ

```bat
[root@magedu ~]# curl 10.0.0.231
nginx web1
[root@magedu ~]# curl 10.0.0.231:81
nginx web2
[root@magedu ~]# curl 10.0.0.231:82
nginx web3
```



##### åŸºäºåŸŸåçš„ç«™ç‚¹å®è·µ

åŸºäºåŸŸåå®ç°å¤šserver

```nginx
# å®šåˆ¶é…ç½®æ–‡ä»¶
[root@magedu ~]# vim /etc/nginx/conf.d/vhost.conf 
server {
    listen 80 default_server;
    server_name www.web1.com;
    root /data/server/nginx/web1;
}
    server {
    listen 80;
    server_name www.web2.com;
    root /data/server/nginx/web2;
}
server {
    listen 80;
    server_name www.web3.com;
    root /data/server/nginx/web3;
}

# æ£€æŸ¥é…ç½®æ–‡ä»¶
[root@magedu ~]# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful

# é‡å¯æœåŠ¡
[root@magedu ~]# nginx -s reload
2025/06/18 11:04:12 [notice] 2127#2127: signal process started
```

åœ¨ `/etc/hosts` ä¸­åŠ å…¥åŸŸåè§£æ

```bash
[root@magedu ~]# echo "10.0.0.231 www.web1.com www.web2.com www.web3.com" >> /etc/hosts
[root@magedu ~]# cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6

10.0.0.231 www.web1.com www.web2.com www.web3.com
```

è®¿é—®ç«™ç‚¹ä¿¡æ¯ï¼ŒæŸ¥çœ‹æ•ˆæœ

```bash
[root@magedu ~]# curl www.web1.com
nginx web1
[root@magedu ~]# curl www.web2.com
nginx web2
[root@magedu ~]# curl www.web3.com
nginx web3
```







### Nodejsé¡¹ç›®

#### NodejsåŸºç¡€

##### Nodejsç®€ä»‹

Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œè®© JavaScript å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œ.

```bat
	ä¼ ç»Ÿæ„ä¹‰ä¸Š JavaScript ä¸»è¦è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œç”¨äºå®ç°ç½‘é¡µçš„äº¤äº’æ•ˆæœã€‚è€Œ Node.js çªç ´äº†è¿™ä¸€é™åˆ¶ï¼Œå®ƒå°† Chrome V8 å¼•æ“ç§»æ¤åˆ°æœåŠ¡å™¨ç«¯ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨ JavaScript ç¼–å†™æœåŠ¡å™¨ç«¯ä»£ç ï¼Œåˆ›å»ºé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„ç½‘ç»œåº”ç”¨ç¨‹åºã€‚
```

å‘å±•å†ç¨‹

```bat
	2009 å¹´ï¼Œç”± Ryan Dahl å¼€å‘çš„ Node.js é¡¹ç›®è¯ç”Ÿã€‚å®ƒçš„åˆè¡·æ˜¯ä¸ºäº†å®ç°é«˜æ€§èƒ½çš„ç½‘ç»œæœåŠ¡å™¨ï¼Œè§£å†³æœåŠ¡å™¨ç«¯åœ¨å¤„ç†é«˜å¹¶å‘è¯·æ±‚æ—¶çš„æ€§èƒ½ç“¶é¢ˆé—®é¢˜ã€‚
	2010 å¹´ï¼Œnpmï¼ˆNode Package Managerï¼‰å‘å¸ƒï¼Œè¿™æ˜¯ Node.js çš„åŒ…ç®¡ç†å·¥å…·ï¼Œæå¤§åœ°ä¿ƒè¿›äº† Node.js ç”Ÿæ€ç³»ç»Ÿçš„å‘å±•ã€‚å¼€å‘è€…å¯ä»¥æ–¹ä¾¿åœ°å…±äº«å’Œä½¿ç”¨å„ç§å¼€æºæ¨¡å—ï¼ŒåŠ é€Ÿé¡¹ç›®çš„å¼€å‘ã€‚
	éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒNode.js ä¸æ–­å‘å±•å’Œå®Œå–„ï¼Œå…¶åº”ç”¨èŒƒå›´ä¹Ÿè¶Šæ¥è¶Šå¹¿æ³›ï¼Œé€æ¸æˆä¸ºæœåŠ¡å™¨ç«¯å¼€å‘çš„ä¸»æµæŠ€æœ¯ä¹‹ä¸€
```

åº”ç”¨åœºæ™¯

```bat
Web æœåŠ¡å™¨å¼€å‘ï¼š
	Node.js å¯ä»¥ç”¨äºæ„å»ºé«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨ï¼Œå¤„ç†å¤§é‡çš„å¹¶å‘è¯·æ±‚ã€‚è®¸å¤šçŸ¥åçš„ç½‘ç«™å’Œåº”ç”¨éƒ½ä½¿ç”¨ Node.js ä½œä¸ºæœåŠ¡å™¨ç«¯æŠ€æœ¯ï¼Œå¦‚ Netflixã€PayPal ç­‰ã€‚
å®æ—¶åº”ç”¨å¼€å‘ï¼š
	ç”±äº Node.js çš„éé˜»å¡ I/O å’Œäº‹ä»¶é©±åŠ¨ç‰¹æ€§ï¼Œéå¸¸é€‚åˆå¼€å‘å®æ—¶åº”ç”¨ï¼Œå¦‚åœ¨çº¿èŠå¤©åº”ç”¨ã€å®æ—¶æ¸¸æˆã€å®æ—¶æ•°æ®ç›‘æ§ç³»ç»Ÿç­‰ã€‚
å‘½ä»¤è¡Œå·¥å…·å¼€å‘ï¼š
	å¼€å‘è€…å¯ä»¥ä½¿ç”¨ Node.js ç¼–å†™å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆ©ç”¨å…¶ä¸°å¯Œçš„æ¨¡å—å’Œè·¨å¹³å°ç‰¹æ€§ï¼Œæ–¹ä¾¿åœ°å®ç°å„ç§åŠŸèƒ½ï¼Œå¦‚æ–‡ä»¶å¤„ç†ã€ä»£ç ç¼–è¯‘ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ç­‰ã€‚
å¾®æœåŠ¡æ¶æ„ï¼š
	Node.js å¯ä»¥ç”¨äºæ„å»ºå¾®æœåŠ¡æ¶æ„ä¸­çš„å„ä¸ªæœåŠ¡ï¼Œé€šè¿‡ npm æ¨¡å—å’Œ HTTP åè®®è¿›è¡ŒæœåŠ¡ä¹‹é—´çš„é€šä¿¡å’Œåä½œï¼Œå®ç°ç³»ç»Ÿçš„é«˜å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚
```

å®˜æ–¹ç½‘ç«™ï¼š https://nodejs.cn/

![image-20250615232331934](D:\git_repository\cyber_security_learning\markdown_img\image-20250615232331934-1752047439884-15.png)







##### ç¯å¢ƒéƒ¨ç½²

å®‰è£…è½¯ä»¶

```bash
# Ubuntuç¯å¢ƒ
# ä½¿ç”¨ä¸€é”®æ¢æºå·¥å…·ï¼Œæ›´æ¢å›½å†…æº
[root@magedu ~]# wget https://www.mysticalrecluse.com/script/Shell/switchsource
[root@magedu ~]# bash switchsource -t

# å®‰è£…nodejsï¼ŒnpmåŒ…ç®¡ç†
[root@magedu ~]# apt install -y nodejs npm
```

æŸ¥çœ‹

````bash
[root@magedu ~]# node -v
v18.19.1
````



##### ç®€å•å®è·µ

åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ç›®å½•

```bash
[root@magedu ~]# mkdir -p /data/codes/my-node-server -p
[root@magedu ~]# cd /data/codes/my-node-server/
```

åˆ›å»ºæ–‡ä»¶ server.js

```bash
[root@magedu my-node-server]# vim server.js
const http = require('http');

// åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨
const server = http.createServer((req, res) => {
    // è®¾ç½®å“åº”å¤´
    res.writeHead(200, { 'Content-Type': 'text/plain' });
    // å‘é€å“åº”å†…å®¹
    res.end('Hello, World!\n');
});

// ç›‘å¬ 3000 ç«¯å£
server.listen(3000, '0.0.0.0', () => {
    console.log('Server running at http://0.0.0.0:3000/')
});
```

è¿è¡Œä»£ç 

```bash
[root@magedu my-node-server]# node server.js
Server running at http://0.0.0.0:3000/
```

æµè§ˆå™¨è®¿é—®http://10.0.0.231:3000

![image-20250616100400696](D:\git_repository\cyber_security_learning\markdown_img\image-20250616100400696-1752047439884-13.png)

Ctrl + C å…³é—­æœåŠ¡

```bash
[root@magedu my-node-server]# node server.js
Server running at http://0.0.0.0:3000/
^C
```







#### npmåŸºç¡€

##### npmæ˜¯ä»€ä¹ˆ

```bat
	npmï¼ˆNode Package Managerï¼‰æ˜¯ Node.js çš„é»˜è®¤åŒ…ç®¡ç†å™¨ï¼Œç±»ä¼¼äºæ‰‹æœºåº”ç”¨å¸‚åœºã€‚å…¶ä¸»è¦åŠŸèƒ½æ˜¯ç®¡ç† Node.js é¡¹ç›®ä¸­çš„å„ç§ä¾èµ–åŒ…ã€‚npm æ‹¥æœ‰å·¨å¤§çš„è½¯ä»¶ä»“åº“ï¼Œæ±‡èšäº†æµ·é‡ Node.js åŒ…ï¼ŒåŠŸèƒ½è¦†ç›–ç½‘ç»œç¼–ç¨‹ã€æ•°æ®åº“äº¤äº’ã€å‰ç«¯æ¡†æ¶æ­å»ºç­‰ä¼—å¤šé¢†åŸŸ, æ¯”å¦‚ç½‘ç»œç¼–ç¨‹ã€æ–‡ä»¶æ“ä½œã€æ•°æ®åº“ç®¡ç†ã€å‰ç«¯æ¡†æ¶ç­‰ï¼Œå¼€å‘è€…å¯ä»¥åœ¨å…¶ä¸­æ‰¾åˆ°æ»¡è¶³è‡ªå·±é¡¹ç›®éœ€æ±‚çš„å„ç§åŒ…ã€‚
```

åŠŸèƒ½

```bat
	npmèƒ½è®©å¼€å‘è€…æ–¹ä¾¿åœ°å…±äº«å’Œé‡ç”¨ä»£ç ï¼ŒåŒæ—¶ç®¡ç†é¡¹ç›®ä¸­çš„ä¾èµ–é¡¹ã€‚å½“ä½ å®‰è£… Node.js æ—¶ï¼Œnpm ä¼šéšä¹‹è‡ªåŠ¨å®‰è£…ã€‚
```



##### nodejs å’Œ npm

npmï¼ˆNode Package Managerï¼‰å’Œ Node.js ä¹‹é—´å­˜åœ¨ç€ç´§å¯†çš„å…³è”

```bat
	å½“ä½ å®‰è£… Node.js æ—¶ï¼Œnpm ä¼šè¢«é»˜è®¤æ†ç»‘å®‰è£…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®‰è£… Node.js çš„è¿‡ç¨‹ä¸­ï¼Œnpm ä¹Ÿä¼šä¸€åŒè¢«å®‰è£…åˆ°ç³»ç»Ÿä¸­ï¼Œä½ æ— éœ€é¢å¤–è¿›è¡Œæ“ä½œå»å®‰è£… npmã€‚è¿™æ ·çš„è®¾è®¡è®©å¼€å‘è€…åœ¨å¼€å§‹ä½¿ç”¨ Node.js æ—¶ï¼Œå°±èƒ½ç«‹å³ä½¿ç”¨ npm æ¥ç®¡ç†é¡¹ç›®çš„ä¾èµ–ã€‚
```

åŠŸèƒ½äº’è¡¥

```bat
npm æ¨åŠ¨ Node.js ç”Ÿæ€å‘å±•
	npm æ‹¥æœ‰åºå¤§çš„è½¯ä»¶ä»“åº“ï¼Œå…¶ä¸­åŒ…å«äº†å¤§é‡çš„å¼€æº Node.js åŒ…ï¼Œè¿™äº›åŒ…æ¶µç›–äº†å„ç§åŠŸèƒ½å’Œåº”ç”¨åœºæ™¯ã€‚å¼€å‘è€…å¯ä»¥è½»æ¾åœ°ä» npm ä¸Šè·å–æ‰€éœ€çš„åŒ…ï¼Œæ— éœ€é‡å¤é€ è½®å­ï¼Œå¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚ä¸°å¯Œçš„åŒ…èµ„æºå¸å¼•äº†æ›´å¤šçš„å¼€å‘è€…ä½¿ç”¨ Node.js è¿›è¡Œå¼€å‘ï¼Œä»è€Œæ¨åŠ¨äº† Node.js ç”Ÿæ€ç³»ç»Ÿçš„ä¸æ–­å£®å¤§ã€‚
	
Node.js ä¸º npm æä¾›åº”ç”¨åœºæ™¯
	Node.js çš„å¹¿æ³›åº”ç”¨ä¸º npm æä¾›äº†å¤§é‡çš„ä½¿ç”¨åœºæ™¯ã€‚éšç€ Node.js åœ¨æœåŠ¡å™¨ç«¯å¼€å‘ã€å‰ç«¯æ„å»ºå·¥å…·ã€è‡ªåŠ¨åŒ–è„šæœ¬ç­‰é¢†åŸŸçš„åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ï¼Œå¯¹å„ç§åŠŸèƒ½åŒ…çš„éœ€æ±‚ä¹Ÿæ—¥ç›Šå¢åŠ ï¼Œè¿™ä¿ƒä½¿æ›´å¤šçš„å¼€å‘è€…å°†è‡ªå·±å¼€å‘çš„åŒ…å‘å¸ƒåˆ° npm ä¸Šï¼Œè¿›ä¸€æ­¥ä¸°å¯Œäº† npm çš„ç”Ÿæ€
```



##### é¡¹ç›®åˆå§‹åŒ–

åˆå§‹åŒ–é¡¹ç›®

```bash
[root@magedu my-node-server]# mkdir /data/codes/npm-project
[root@magedu my-node-server]# cd /data/codes/npm-project/

# è¿è¡Œnpm initåï¼Œä¼šå¼•å¯¼ä½ åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶è®°å½•äº†é¡¹ç›®çš„å…ƒæ•°æ®å’Œä¾èµ–é¡¹ä¿¡æ¯ã€‚
[root@magedu npm-project]# npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help init` for definitive documentation on these fields
and exactly what they do.

Use `npm install <pkg>` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (npm-project)                                   # ç›´æ¥Enter
version: (1.0.0)                                              # ç›´æ¥Enter
description: simple demo                                      # ç®€å•æè¿°
entry point: (index.js)                                       # ç›´æ¥Enter
test command:                                                 # ç›´æ¥Enter
git repository:                                               # ç›´æ¥Enter
keywords:                                                     # ç›´æ¥Enter
author: mystical                                              # ç›´æ¥Enter
license: (ISC)                                                # ç›´æ¥Enter
About to write to /data/codes/npm-project/package.json:

{
  "name": "npm-project",
  "version": "1.0.0",
  "description": "simple demo",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "mystical",
  "license": "ISC"
}


Is this OK? (yes)                                             # ç›´æ¥Enter
```

é¡¹ç›®ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª package.json æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶è®°å½•äº†é¡¹ç›®çš„å…ƒæ•°æ®å’Œä¾èµ–ä¿¡æ¯ã€‚

```bash
[root@magedu npm-project]# cat package.json 
{
  "name": "npm-project",
  "version": "1.0.0",
  "description": "simple demo",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "mystical",
  "license": "ISC"
}
```



##### é¡¹ç›®ä¾èµ–

ä¸ºäº†é¿å…è·å–äº’è”ç½‘çš„è½¯ä»¶åŒ…è¿‡äºç¼“æ…¢ï¼Œå®šåˆ¶ä¸“å±çš„é•œåƒæº

```bash
[root@magedu npm-project]# npm config set registry https://registry.npmmirror.com
```

```bash
# åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿäº§ä¸€ä¸ªéšè—çš„é…ç½®æ–‡ä»¶
# æŸ¥çœ‹
[root@magedu npm-project]# cat .npmrc 
registry=https://registry.npmmirror.com/
```

å®‰è£… express æ¡†æ¶ä½œä¸ºé¡¹ç›®ä¾èµ–ï¼Œ express æ˜¯ä¸€ä¸ªæµè¡Œçš„ Node.js Web åº”ç”¨æ¡†æ¶ã€‚

```bash
[root@magedu npm-project]# npm install express

added 67 packages in 2s

14 packages are looking for funding
  run `npm fund` for details
```

```bash
# ä¸´æ—¶æŒ‡å®šä¸‹è½½ä»“åº“çš„æ–¹å¼
npm install express --registry=https://registry.npmmirror.com
```



express å®‰è£…åˆ°é¡¹ç›®çš„  node_modules ç›®å½•ä¸‹ï¼Œå¹¶åœ¨  package.json æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„ä¾èµ–é¡¹ã€‚

```bash
[root@magedu npm-project]# ls
node_modules  package.json  package-lock.json
[root@magedu npm-project]# tree -L 1 node_modules/
node_modules/
â”œâ”€â”€ accepts
â”œâ”€â”€ body-parser
â”œâ”€â”€ bytes
â”œâ”€â”€ call-bind-apply-helpers
â”œâ”€â”€ call-bound
â”œâ”€â”€ content-disposition
â”œâ”€â”€ content-type
â”œâ”€â”€ cookie
â”œâ”€â”€ cookie-signature
......
```

```bash
# æŸ¥çœ‹ä¾èµ–é¡¹
[root@magedu npm-project]# head package-lock.json 
{
  "name": "npm-project",
  "version": "1.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "npm-project",
      "version": "1.0.0",
      "license": "ISC",
```



##### é¡¹ç›®åˆ›å»º

åˆ›å»ºå…¥å£æ–‡ä»¶ index.js

```bash
[root@magedu npm-project]# vim index.js
const express = require('express');
const app = express();
const port = 3000;

// å®šä¹‰ç®€å•çš„è·¯ç”±
app.get('/', (req, res) => {
    res.send('ç«™ç‚¹é¦–é¡µ!!!\n');
});
app.get('/login', (req, res) => {
    res.send('ç«™ç‚¹ç™»å½•é¡µé¢!!!\n');
});
app.get('/register', (req, res) => {
    res.send('ç«™ç‚¹æ³¨å†Œé¡µé¢!!!\n');
});

// å¯åŠ¨æœåŠ¡å™¨
app.listen(port, () => {
    console.log(`Server is running on port ${port}`);
});
```



##### é¡¹ç›®å¯åŠ¨

ä¸ºäº†æ–¹ä¾¿å¯åŠ¨é¡¹ç›®ï¼Œä½ å¯ä»¥åœ¨ package.json æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªå¯åŠ¨è„šæœ¬

```bash
[root@magedu npm-project]# vim package.json
{
  "name": "npm-project",
  "version": "1.0.0",
  "description": "simple demo",
  "main": "index.js",
  "scripts": {
    "start": "node index.js"
  },
  "author": "mystical",
  "license": "ISC",
  "dependencies": {
    "express": "^5.1.0"
  }
}
```

è¿è¡Œé¡¹ç›®

```bash
[root@magedu npm-project]# npm start

> npm-project@1.0.0 start
> node index.js

Server is running on port 3000
......
```

è®¿é—®æŸ¥çœ‹ï¼ˆå¦èµ·ä¸€ä¸ªç»ˆç«¯ï¼‰

```bash
[root@magedu ~]# curl 10.0.0.231:3000
ç«™ç‚¹é¦–é¡µ!!!
[root@magedu ~]# curl 10.0.0.231:3000/login
ç«™ç‚¹ç™»å½•é¡µé¢!!!
[root@magedu ~]# curl 10.0.0.231:3000/register
ç«™ç‚¹æ³¨å†Œé¡µé¢!!!
```





#### åšå®¢ç³»ç»Ÿ

##### åŸºç¡€ç¯å¢ƒ

ç¯å¢ƒå‡†å¤‡

```bash
[root@magedu npm-project]# mkdir /data/codes/hexo_project
[root@magedu npm-project]# cd /data/codes/hexo_project/
[root@magedu hexo_project]# npm config set registry https://registry.npmmirror.com
```

å®‰è£…è½¯ä»¶

```bash
[root@magedu hexo_project]# npm install -g hexo-cli

added 53 packages in 4s

14 packages are looking for funding
  run `npm fund` for details
```



##### å®šåˆ¶é¡¹ç›®

æ–°å»ºä¸€ä¸ª myblogs æ–‡ä»¶å¤¹,è¯¥è¿‡ç¨‹ä¼šæŒç»­20så·¦å³ï¼Œå› ä¸ºè¦ä¸‹è½½æ–‡ä»¶

```bash
[root@magedu hexo_project]# hexo init myblogs
INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git
fatal: unable to access 'https://github.com/hexojs/hexo-starter.git/': Recv failure: Connection reset by peer
WARN  git clone failed. Copying data instead
INFO  Install dependencies
INFO  Start blogging with Hexo!
```

å®‰è£…hexoé¡¹ç›®æ‰€ä¾èµ–çš„æ–‡ä»¶

```bash
# è®¾å®šæœ¬åœ°ä¸‹è½½æºä¿¡æ¯
[root@magedu hexo_project]# cd myblogs/
[root@magedu myblogs]# npm config set registry https://registry.npmmirror.com
[root@magedu myblogs]# ls -a
.                      _config.yml   .npmrc             scaffolds
..                     .github       package.json       source
_config.landscape.yml  node_modules  package-lock.json  themes
```

```bash
# å®‰è£… Hexo é¡¹ç›®æ‰€éœ€çš„ä¾èµ–é¡¹
[root@magedu myblogs]# npm install

added 2 packages in 1s

29 packages are looking for funding
  run `npm fund` for details
```

è¿è¡Œé¡¹ç›®ï¼Œè¿™é‡Œè™½ç„¶æç¤º localhostï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥é€šè¿‡IPåœ°å€è¿›è¡Œè®¿é—®

```bash
[root@magedu myblogs]# hexo server
INFO  Validating config
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.
......
```

æµè§ˆå™¨è®¿é—® 10.0.0.13:4000

![image-20250616103141514](D:\git_repository\cyber_security_learning\markdown_img\image-20250616103141514-1752047439884-14.png)



##### æ›´æ”¹æ–°çš„ä¸»é¢˜

```bash
# å®‰è£…icarusä¸»é¢˜
[root@magedu myblogs]# npm install -S hexo-theme-icarus hexo-renderer-inferno

added 169 packages in 7s

38 packages are looking for funding
  run `npm fund` for details
```

```bash
# åˆ‡æ¢ä¸»é¢˜
[root@magedu myblogs]# hexo config theme icarus
INFO  Validating config
Inferno is in development mode.
```

```bash
# ç”Ÿæˆä¸»é¢˜å¹¶éƒ¨ç½²
[root@magedu myblogs]# hexo generate
[root@magedu myblogs]# hexo deploy
```



```bash
# å¯ç”¨ hexo æŸ¥çœ‹ä¸»é¢˜æ•ˆæœ
[root@magedu myblogs]# hexo server
INFO  Validating config
Inferno is in development mode.
......
```

![image-20250616104053391](D:\git_repository\cyber_security_learning\markdown_img\image-20250616104053391-1752047439884-16.png)





###### æ·»åŠ æ–°çš„æ–‡ç« 

```bash
[root@magedu myblogs]# hexo new "Day01 Learning Linux"
INFO  Validating config
Inferno is in development mode.
INFO  =======================================
 â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
 â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
 â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
 â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
 â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
 â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•
=============================================
INFO  === Checking package dependencies ===
INFO  === Checking theme configurations ===
INFO  === Registering Hexo extensions ===
INFO  Created: /data/codes/hexo_project/myblogs/source/_posts/Day01-Learning-Linux.md

[root@magedu myblogs]# cd source/_posts/
[root@magedu _posts]# ls
Day01-Learning-Linux.md  hello-world.md
[root@magedu _posts]# vim Day01-Learning-Linux.md 
---
title: Day01 Learning Linux
date: 2025-06-16 11:45:03
tags: linux
categories: Linuxæ•™ç¨‹
cover: ../image/computer1.png                                        # å¡ç‰‡å›¾ç‰‡
---

æœ¬ç¯‡æ–‡ç« å°†ä»‹ç»Linuxå†å²ï¼Œè®¡ç®—æœºåŸºç¡€ç¡¬ä»¶çŸ¥è¯†ï¼Œæ“ä½œç³»ç»ŸåŸºç¡€çŸ¥è¯†ä»¥åŠLinuxå¸¸è§ç³»ç»Ÿ>çš„å®‰è£…ã€‚  # æè¿°ä¿¡æ¯

<!-- more -->                                                               # èµ·åˆ°æŠ˜å å¡ç‰‡çš„æ•ˆæœ

# Linux Base
```



###### ä¿®æ”¹ä¸ªäººä¿¡æ¯

```bash
# åœ¨sourceç›®å½•ä¸‹åˆ›å»ºimageç›®å½•ï¼Œç”¨æ¥å­˜æ”¾å›¾ç‰‡
[root@magedu myblogs]# cd source/
[root@magedu source]# mkdir image
[root@magedu source]# ls
image  _posts

# å°†è‡ªå·±å–œæ¬¢çš„å¤´åƒæ”¾å…¥imageç›®å½•ä¸‹
[root@magedu source]# cd image/
[root@magedu image]# rz
[root@magedu image]# ls
touxiang.jpg

# ä¿®æ”¹é…ç½®æ–‡ä»¶,å¡«å†™ä¸ªäººä¿¡æ¯
[root@magedu myblogs]# vim _config.icarus.yml
widgets:
    # Profile widget configurations
    -
        # Where should the widget be placed, left sidebar or right sidebar
        position: left
        type: profile
        # Author name
        author: Mystical Recluse                            # ä¿®æ”¹ç”¨æˆ·å
        # Author title
        author_title: My Blog                               # ä¿®æ”¹title
        # Author's current location
        location: china, beijing                            # ä¿®æ”¹åœ°å€
        # URL or path to the avatar image
        avatar: image/touxiang.jpg                          # ä¿®æ”¹å¤´åƒ
        # Whether show the rounded avatar image
        avatar_rounded: false
......
```

ä¿®æ”¹åæŸ¥çœ‹æ•ˆæœ

![image-20250616120155658](D:\git_repository\cyber_security_learning\markdown_img\image-20250616120155658-1752047439884-17.png)



###### ä¿®æ”¹å¸ƒå±€

```bash
# å°†å¸¸ç”¨çš„ä¾§è¾¹æ æ”¾åˆ°å³è¾¹
[root@magedu myblogs]# vim _config.icarus.yml 
   # Categories widget configurations
    -
        # Where should the widget be placed, left sidebar or right sidebar
        position: right                            # æ”¹åˆ°å³è¾¹
        type: categories
    # Recent posts widget configurations
    -
        # Where should the widget be placed, left sidebar or right sidebar
        position: right                            # æ”¹åˆ°å³è¾¹
        type: recent_posts
    # Archives widget configurations
    -
        # Where should the widget be placed, left sidebar or right sidebar
        position: left
        type: archives
    # Tags widget configurations
    -
        # Where should the widget be placed, left sidebar or right sidebar
        position: right                            # æ”¹åˆ°å³è¾¹
        type: tags

# ä¿å­˜åï¼Œå¯ç”¨æœåŠ¡ï¼ŒæŸ¥çœ‹æ•ˆæœ
[root@magedu myblogs]# hexo server
```



![image-20250616120554736](D:\git_repository\cyber_security_learning\markdown_img\image-20250616120554736-1752047439884-18.png)



###### ä¿®æ”¹RECENTSé£æ ¼

**ä¸»é¢˜é…ç½®ä¸­å¯ç”¨ç»„ä»¶**

åœ¨ä½ çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ `_config.icarus.yml` ä¸­å¯ç”¨ä¾§è¾¹æ ç»„ä»¶ï¼š

```yaml
widgets:
  - type: recent_posts
    position: right
    limit: 5     # æ˜¾ç¤ºå¤šå°‘ç¯‡æ–‡ç« 
```

è¿™æ®µé…ç½®è¡¨ç¤ºï¼š

- ä½¿ç”¨ `recent_posts` å°éƒ¨ä»¶ï¼ˆIcarus è‡ªå¸¦ï¼‰
- æ˜¾ç¤ºåœ¨å³ä¾§ `position: right`
- é™åˆ¶åªå±•ç¤ºæœ€è¿‘ 5 ç¯‡æ–‡ç« 



**æ–‡ç« å¯ç”¨å°é¢å›¾ thumbnailï¼ˆå®ç°ç¼©ç•¥å›¾ï¼‰**

ä¸ºäº†è®©æ¯ç¯‡æ–‡ç« åœ¨ `RECENTS` ä¸­æ˜¾ç¤ºå°å›¾ï¼Œå¿…é¡»åœ¨æ¯ç¯‡æ–‡ç« çš„ `Front Matter` ä¸­æ·»åŠ  `thumbnail` å­—æ®µï¼š

```yaml
---
title: Day01 Learning Linux
date: 2025-06-16 11:45:03
tags: linux
categories: 
cover: image/computer1.png
thumbnail: image/computer1.png   # å¡«å†™å›¾ç‰‡è·¯å¾„ï¼Œä»¥sourceä¸ºæ ¹ç›®
---
......
```

![image-20250616140301835](D:\git_repository\cyber_security_learning\markdown_img\image-20250616140301835-1752047439884-20.png)



###### ç›®å½•è®¾ç½®ä¸ä¼˜åŒ–

è®¾ç½®ç›®å½•

```bash
[root@magedu myblogs]# vim _config.icarus.yml
......
    # Table of contents widget configurations
    -
        # Where should the widget be placed, left sidebar or right sidebar
        position: left                                                # æŠŠç›®å½•æ”¾åœ¨å·¦è¾¹æ ï¼ˆä½ ä¹Ÿå¯ä»¥æ”¹ä¸º rightï¼‰
        type: toc                                                     # è¡¨ç¤ºè¿™æ˜¯â€œç›®å½•ç»„ä»¶â€ï¼Œä¸æ˜¯åˆ†ç±»æˆ–æ ‡ç­¾ç»„ä»¶
        # Whether to show the index of each heading
        index: true                                                   # æ˜¾ç¤ºæ ‡é¢˜å‰çš„åºå·ï¼ˆ1ã€2ã€3â€¦ï¼‰
        # Whether to collapse sub-headings when they are out-of-view
        collapsed: true                                               # å­æ ‡é¢˜é»˜è®¤æŠ˜å ï¼ˆç‚¹å‡»å±•å¼€ï¼‰ï¼Œå¯æ”¹ä¸º false
        # Maximum level of headings to show (1-6)
        depth: 4                                                      # æ˜¾ç¤ºç›®å½•çš„æœ€å¤§æ ‡é¢˜å±‚çº§ï¼ˆæ”¯æŒ ## åˆ° ####ï¼‰
```

æ–‡ç« ä¸­æ˜¾ç¤ºåŠ è½½ç›®å½•

```bat
---
title: è®¡ç®—æœºåŸºç¡€å’ŒLinuxå®‰è£…
date: 2025-06-14
toc: true              # æ·»åŠ toc: true
tags: [Linux, OS]
categories:
cover: markdown_img/computer1.png
thumbnail: markdown_img/computer1.png
---
```

æ·»åŠ æ‡’åŠ è½½ï¼Œä¼˜åŒ–ç½‘ç«™åŠ è½½é€Ÿåº¦

```bash
# å®‰è£… Hexo æ’ä»¶è‡ªåŠ¨æ‡’åŠ è½½
npm install hexo-lazyload-image --save

# _config.yml æ·»åŠ é…ç½®
lazyload:
  enable: true
  onlypost: true
  loadingImg: /images/loading.gif # å¯é€‰
```

ä½¿ç”¨jsï¼Œä¼˜åŒ–ç›®å½•æŠ˜å æ•ˆæœåŠ è½½é€Ÿåº¦

```bash
[root@magedu source]# mkdir -p js/custom/
```

```bash
[root@magedu source]# cd /js/custom/
[root@magedu custom]# vim custom.js
document.addEventListener('DOMContentLoaded', () => {
  const tocEl = document.querySelector('#toc');

  if (tocEl) {
    // å¦‚æœç›®å½•å·²ç»æ¸²æŸ“å¥½äº†ï¼Œç›´æ¥ç»‘å®š
    bindTocToggle();
  } else {
    // å¦åˆ™ç›‘å¬ DOM å˜åŒ–
    const observer = new MutationObserver(() => {
      const tocNow = document.querySelector('#toc');
      if (tocNow) {
        observer.disconnect();
        bindTocToggle();
      }
    });

    observer.observe(document.body, { childList: true, subtree: true });
  }
});

function bindTocToggle() {
  console.log('âœ… æ­£åœ¨ç»‘å®š TOC æŠ˜å åŠŸèƒ½');

  const tocItems = document.querySelectorAll('.catalogue .is-collapsible');

  tocItems.forEach(li => {
    const btn = li.querySelector('.catalogue-toggle');
    const subList = li.querySelector('ul');

    if (btn && subList) {
      btn.addEventListener('click', () => {
        subList.classList.toggle('is-hidden');
        btn.classList.toggle('is-expanded');
      });
    }
  });

  console.log('âœ… TOC æŠ˜å ç»‘å®šå®Œæˆ');
}

# åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ è½½è‡ªå®šä¹‰js
[root@magedu myblogs]# vim _config.icarus.yml
......
injects:
  bottom:
    - <script src="/js/custom/custom.js"></script>    # âœ… åŠ å…¥è¿™ä¸€è¡Œ
```

é‡å¯æœåŠ¡

```bash
[root@magedu myblogs]# nohup hexo server &
```

æŸ¥çœ‹æ•ˆæœ

![image-20250616165427512](D:\git_repository\cyber_security_learning\markdown_img\image-20250616165427512-1752047439884-19.png)



###### å¤šçº§åˆ†ç±»å®ç°

ä½¿ç”¨åµŒå¥—æ•°ç»„å½¢å¼çš„ `categories` front-matter

ç¤ºä¾‹

```bash
---
title: ä½¿ç”¨ Valine è¯„è®ºç³»ç»Ÿ
date: 2025-06-16
categories:
  - Plugins
  - Comment
tags: [Valine, Comment]
---
```

æ³¨æ„ï¼šé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ç”¨åˆ†ç±»ç»„ä»¶ï¼ˆé€šå¸¸é»˜è®¤å¯ç”¨ï¼‰

```bash
widgets:
  -
    type: categories
    position: leftv
```

æ•ˆæœå±•ç¤º

![image-20250616171625487](D:\git_repository\cyber_security_learning\markdown_img\image-20250616171625487-1752047439884-21.png)



###### æ›´æ”¹ä¸»é¢˜é£æ ¼

é€šè¿‡æ­¤è®¾ç½®ä¸ºIcarusæ›´æ¢â€çš®è‚¤â€œã€‚ æ­¤è®¾ç½®ç›®å‰æ”¯æŒâ€`default`â€œå’Œâ€`cyberpunk`â€œä¸¤ç§å€¼ã€‚ ä½ å¯ä»¥åœ¨[æ­¤å¤„](https://ppoffice.github.io/hexo-theme-icarus/uncategorized/cyberpunk-theme-variant/)æŸ¥çœ‹Cyberpunkå˜ä½“çš„æ•ˆæœã€‚

```bash
[root@magedu myblogs]# vim _config.icarus.yml
# Icarus theme variant, can be "default" or "cyberpunk"
#variant: default
variant: cyberpunk      # æ”¹ä¸º cyberpunk é£æ ¼
```

```bash
# é‡å¯æœåŠ¡
[root@magedu myblogs]# nohup hexo server &
```

æŸ¥çœ‹æ•ˆæœ

![image-20250616172044576](D:\git_repository\cyber_security_learning\markdown_img\image-20250616172044576-1752047439884-22.png)





###### æ·»åŠ ShareThis

è¿›å…¥sharethisç½‘ç«™

```http
https://sharethis.com/
```

1. è®¿é—®[ShareThis](https://sharethis.com/)å¹¶ç‚¹å‡»é¡µé¢ä¸Šçš„â€œä»åˆ†äº«æŒ‰é’®å¼€å§‹â€(Start with Share Buttons)æŒ‰é’®ã€‚

![image-20250616140610056](D:\git_repository\cyber_security_learning\markdown_img\image-20250616140610056-1752047439884-23.png)

åœ¨â€œé€‰æ‹©åˆ†äº«æŒ‰é’®ç±»å‹â€(Choose type of sharing button)é¡µé¢é€‰æ‹©ä½ éœ€è¦çš„æŒ‰é’®ç±»å‹ã€‚ ä¸è¦å¯ç”¨â€GDPRè§„èŒƒå·¥å…·â€œï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚ ä½ ä¹Ÿå¯ä»¥ç‚¹å‡»â€œè‡ªå®šä¹‰ä½ çš„åˆ†äº«æŒ‰é’®â€(Customize your share buttons)é“¾æ¥æ¥è¿›è¡ŒæŒ‰é’®çš„è¿›ä¸€æ­¥é…ç½®ã€‚ å®Œæˆåç‚¹å‡»â€œä¸‹ä¸€æ­¥â€(Next)ã€‚

![image-20250616140705324](D:\git_repository\cyber_security_learning\markdown_img\image-20250616140705324-1752047439884-24.png)

åœ¨â€œæ³¨å†Œå¹¶è·å–ä»£ç â€(Register and get the code!)é¡µé¢è¾“å…¥é‚®ç®±å’Œå¯†ç å®ŒæˆShareThisçš„æ³¨å†Œã€‚(æˆ‘ç›´æ¥ä½¿ç”¨Googleè´¦æˆ·ç™»å½•äº†)

![image-20250616140900394](D:\git_repository\cyber_security_learning\markdown_img\image-20250616140900394-1752047439884-25.png)

ä»HTMLä»£ç æ®µä¸­å¤åˆ¶`src`ä¸­çš„URLåœ°å€åˆ°åˆ†äº«æŒ‰é’®é…ç½®ä¸­

![image-20250616140952216](D:\git_repository\cyber_security_learning\markdown_img\image-20250616140952216-1752047439884-26.png)

ä¾‹å¦‚ï¼šä¸‹é¢çš„ShareThisä»£ç 

```bash
<script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=xxxxxxxxxxxxx&product=inline-share-buttons" async="async"></script>
```

å¯¹åº”ä¸‹é¢çš„ä¸»é¢˜é…ç½®ï¼š

```yaml
share:
    type: sharethis
    install_url: https://platform-api.sharethis.com/js/sharethis.js#property=xxxxxxxxxxxxx&product=inline-share-buttons

```

```bash
# ä¿®æ”¹é…ç½®åï¼Œé‡å¯hexo
```

<img src="D:\git_repository\cyber_security_learning\markdown_img\image-20250616141224309-1752047439884-27.png" alt="image-20250616141224309" style="zoom:150%;" />

æµ‹è¯•åˆ†äº«

![image-20250616141416659](D:\git_repository\cyber_security_learning\markdown_img\image-20250616141416659-1752047439884-28.png)

ä½¿ç”¨äºŒç»´ç åˆ†äº«

<img src="D:\git_repository\cyber_security_learning\markdown_img\image-20250616141437916-1752047439884-29.png" alt="image-20250616141437916" style="zoom:150%;" />



###### åˆ›å»ºcommentè¯„è®º

**Disqus**

é¦–å…ˆï¼Œç™»å½•[Disqus](https://disqus.com/)ã€‚ ç‚¹å‡»é¦–é¡µçš„â€œå¼€å§‹â€(GET STARTED)æŒ‰é’®æ¥åˆ›å»ºæ–°çš„ç«™ç‚¹è¯„è®ºæœåŠ¡ã€‚

```http
https://disqus.com/
```

![image-20250616104950202](D:\git_repository\cyber_security_learning\markdown_img\image-20250616104950202-1752047439884-30.png)



![image-20250616105146651](D:\git_repository\cyber_security_learning\markdown_img\image-20250616105146651-1752047439884-31.png)

å…ˆä¸‹æ‹‰ï¼Œé€‰æ‹©å…è´¹ç‰ˆæœ¬ä½¿ç”¨

![image-20250616105231521](D:\git_repository\cyber_security_learning\markdown_img\image-20250616105231521-1752047439884-32.png)

![image-20250616105358824](D:\git_repository\cyber_security_learning\markdown_img\image-20250616105358824-1752047439884-33.png)

![image-20250616105459698](D:\git_repository\cyber_security_learning\markdown_img\image-20250616105459698-1752047439884-34.png)

é€‰æ‹©Disqusçš„å®‰è£…å¹³å°ã€‚ æ­¤å¤„é€‰æ‹©é¡µé¢åº•éƒ¨çš„â€œä¸Šé¢æ²¡æœ‰åˆ—å‡ºæˆ‘ä½¿ç”¨çš„å¹³å°ï¼Œä½¿ç”¨é€šç”¨ä»£ç å®‰è£…â€ (I donâ€™t see my platform listed, install manually with Universal Code)ã€‚

![image-20250616105628346](D:\git_repository\cyber_security_learning\markdown_img\image-20250616105628346-1752047439884-36.png)

1. ç‚¹å‡»é¡µé¢åº•éƒ¨çš„â€œé…ç½®â€(Configure)æŒ‰é’®è·³è¿‡â€œé€šç”¨ä»£ç å®‰è£…æŒ‡å—â€(Universal Code install instructions)ã€‚

![image-20250616105830988](D:\git_repository\cyber_security_learning\markdown_img\image-20250616105830988-1752047439884-35.png)

![image-20250616111301909](D:\git_repository\cyber_security_learning\markdown_img\image-20250616111301909-1752047439884-37.png)

Comment Policy URL ç¼–å†™ç¤ºä¾‹

```bash
# vim source/comment-policy.md

# comment-policy.md å†…å®¹å¦‚ä¸‹ï¼š
---
title: Comment Policy
date: 2025-06-15 10:00:00
layout: page
---

# Comment Policy

We welcome and encourage comments on this site. To maintain a respectful and valuable community, please follow these simple rules:

## âœ… Whatâ€™s encouraged:

- Sharing your experiences and ideas
- Asking thoughtful questions
- Engaging in respectful, constructive conversation

## ğŸš« Whatâ€™s not allowed:

- **Off-topic** comments unrelated to the post content
- **Spam or self-promotion**, including unrelated links
- **Hate speech or discrimination** of any kind
- **Personal attacks, harassment, or abusive language**
- **Flooding** the comments with repeated messages

## ğŸ”§ Moderation Policy

Comments are subject to manual or automatic moderation. We reserve the right to:

- Edit or delete any comment at any time
- Block repeat offenders from commenting
- Use spam filters to detect low-quality or harmful content

## ğŸ’¬ You agree:

By posting a comment, you agree to follow this policy and contribute positively to the discussion.

Thank you for helping make this a respectful and engaging space for all readers!
```

```bash
# éƒ¨ç½²ç”Ÿæ•ˆ
root@mystical:/data/codes/hexo_project/myblogs/source# hexo clean && hexo g && hexo d
```

``` bat
# è®¿é—®æŸ¥çœ‹
http://blog.mysticalrecluse.com/comment-policy.html
```

![image-20250616111559460](D:\git_repository\cyber_security_learning\markdown_img\image-20250616111559460-1752047439884-38.png)

åˆ›å»ºå¥½åï¼Œç‚¹å‡»Next

![image-20250616111658813](D:\git_repository\cyber_security_learning\markdown_img\image-20250616111658813-1752047439884-39.png)

![image-20250616111735668](D:\git_repository\cyber_security_learning\markdown_img\image-20250616111735668-1752047439884-40.png)

éƒ¨ç½²æˆåŠŸï¼åœ¨â€œé…ç½®Disqusâ€(Configure Disqus)é¡µé¢ä¸­æŒ‰éœ€å¡«å†™Disqusä¸ªæ€§åŒ–é…ç½®ã€‚ ç„¶åï¼Œç‚¹å‡»â€œå®Œæˆå®‰è£…â€(Complete Setup)å’Œâ€œå…³é—­é…ç½®â€(Dismiss Setup)æŒ‰é’®æ¥ç»“æŸé…ç½®ã€‚

![image-20250616111811770](D:\git_repository\cyber_security_learning\markdown_img\image-20250616111811770-1752047439884-41.png)

ä¸‹ä¸€æ­¥ï¼Œåœ¨è¯„è®ºæœåŠ¡é¦–é¡µçš„å³ä¸Šè§’ç‚¹å‡»â€œç¼–è¾‘é…ç½®â€(Edit Settings)æŒ‰é’®

![image-20250616111958316](D:\git_repository\cyber_security_learning\markdown_img\image-20250616111958316-1752047439884-42.png)

åœ¨â€œä¸ºä½ çš„ç«™ç‚¹é…ç½®Disqusâ€(Configure Disqus for Your Site)é¡µé¢ä¸Šæ‰¾åˆ°â€œShortnameâ€çš„å€¼ï¼Œ å¤åˆ¶åˆ°ä¸»é¢˜é…ç½®çš„è¯„è®ºé…ç½®é¡¹ä¸­ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢æˆªå›¾ä¸­çš„â€œShortnameâ€ä¸º`mystical-blog`ï¼š

![image-20250616112103020](D:\git_repository\cyber_security_learning\markdown_img\image-20250616112103020-1752047439884-43.png)

å¯¹åº”çš„ä¸»é¢˜é…ç½®ä¸ºï¼š

```bash
root@mystical:/data/codes/hexo_project/myblogs# vim _config.icarus.yml
comment:
......
    type: disqus
    # Disqus shortname
    shortname: mystical-blog
    ...... 
```

é‡å¯hexoåæŸ¥çœ‹è¯„è®ºæ•ˆæœ

```bash
root@mystical:/data/codes/hexo_project/myblogs# updatehexo
root@mystical:/data/codes/hexo_project/myblogs# alias updatehexo
alias updatehexo='killall hexo && nohup hexo server &'
```

![image-20250616112729076](D:\git_repository\cyber_security_learning\markdown_img\image-20250616112729076-1752047439884-44.png)

ï¼ˆå¯é€‰ï¼‰ä½ å¯ä»¥åœ¨æ–‡ç« çš„front-matterä¸­åŠ å…¥`disqusId`æ¥ä¸ºæ–‡ç« æ·»åŠ Disquså”¯ä¸€æ ‡è¯†ã€‚ è¿™æ ·ï¼Œä½ å¯ä»¥åœ¨æœªæ¥æ›´æ”¹æ–‡ç« çš„ä½ç½®è€Œä¸ä¼šä¸¢å¤±æ‰€æœ‰è¯„è®ºã€‚

```bash
title: æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« 
date: 2015-01-01 00:00:01
disqusId: post-0001-hello-world
---
# Hello world
```

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›è§„åˆ™åŒ–æ–¹å¼æ¥ç”Ÿæˆå®ƒï¼š

- ç”¨æ–‡ä»¶ååš IDï¼š`disqusId: 2024-hello-world`
- ç”¨æ–‡ç«  slugï¼š`disqusId: first-post`
- ç”¨æ•°æ®åº“ IDï¼ˆå¦‚æœä½ ä» CMS å¯¼å…¥æ–‡ç« ï¼‰ï¼š`disqusId: post-123`



##### é…ç½®Nginxä»£ç†

éƒ¨ç½²Nginx

```bash
[root@magedu myblogs]# apt install -y nginx
```

å®šåˆ¶nginxé…ç½®

```nginx
[root@magedu sites-enabled]# vim blog.magedu.org.conf  
server {
    server_name blog.magedu.org;

    location / {
         proxy_pass http://localhost:4000;
    }
}
```

é‡å¯é…ç½®

```bat
[root@magedu sites-enabled]# nginx -s reload
2025/06/18 11:36:28 [notice] 2663#2663: signal process started
```

æ›´æ”¹å®¿ä¸»æœºhostsæ–‡ä»¶

```bat
# Windowsæ“ä½œç³»ç»Ÿhostsæ–‡ä»¶è·¯å¾„
C:\Windows\System32\drivers\etc\hosts
```

æ‰¾åˆ° hosts æ–‡ä»¶

![image-20250618112124346](D:\git_repository\cyber_security_learning\markdown_img\image-20250618112124346-1752047439884-45.png)

æ›´æ”¹ hosts æ–‡ä»¶æƒé™

![image-20250618112353643](D:\git_repository\cyber_security_learning\markdown_img\image-20250618112353643-1752047439884-46.png)



![image-20250618112716217](D:\git_repository\cyber_security_learning\markdown_img\image-20250618112716217-1752047439884-47.png)

åœ¨æ¡Œé¢æ·»åŠ å¿«æ·æ–¹å¼

![image-20250618113107048](D:\git_repository\cyber_security_learning\markdown_img\image-20250618113107048.png)

åœ¨ `hosts` æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```bat
10.0.0.231 blog.magedu.org
```

![image-20250618113509587](D:\git_repository\cyber_security_learning\markdown_img\image-20250618113509587-1752047439884-48.png)

åœ¨æµè§ˆå™¨æŸ¥çœ‹`blog.magedu.org`

![image-20250618114046385](D:\git_repository\cyber_security_learning\markdown_img\image-20250618114046385-1752047439884-49.png)



































































































 