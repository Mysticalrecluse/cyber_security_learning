# 总汇
汇编，C语言（指针），硬件CPU（运行模式，段页机制，32位段机制，64位段机制，32位页地址，32位页地址）（用户态和内核态，本质是由CPU的段机制进行隔离的，它会做一些权限判断，因为有段机制做隔离，这里衍生一个门的机制）

CPU的页机制是和内存联系的，CPU的页地址提供的是虚拟内存，设计物理内存管理模块，虚拟内存管理模块

硬盘，因为内核是在硬盘里面的，需要使用汇编操控硬盘，将内核从硬盘加载到内存（boot,load, 加载内核）

中断，设计时钟中断（实现任务管理模块），实时时钟中断，键盘中断

APIC芯片：多核协同实现

进入用户态：门机制，快速调用(syscall,sysret),中断门，系统调用


目标：凌驾于操作系统之上，无视内核的各种保护机制，实现对操作系统的全操控


## 学习目标
- 将汇编，C语言，OS融会贯通
- 深入理解汇编语言，尤其是执行流，能够熟练使用汇编语言编程
- 深入理解C语言，能脑补出C语言编译后的汇编代码及运行时的内存图
- 熟练使用汇编语言操控硬件，汇编，C语言之间的互调及开发时的单步调式
- 深刻理解CPU运行模式，CPU寻址，用户态与内核态之间的切换
- 深刻理解屏幕驱动底层实现，printf,printk底层实现
- 深刻理解物理内存，虚拟内存，CPU的段页机制，CPU的运行逻辑
- 深刻理解中断的底层实现，键盘中断，时钟中断底层实现
- 深刻理解任务切换，线程上下文，系统调用
- 64位CPU的段页门机制，多核中断控制芯片，多核任务切换机制

## OS原理
```
https://www.bilibili.com/video/BV1N741177F5
https://www.bilibili.com/video/BV1bf4y147PZ
```

## 开发OS环境搭建
调试汇编使用bochs
调试C语言使用qemu

初期练手汇编使用OD

# 汇编
## 汇编学到什么程度才能熟练使用
能够非常熟练的实现以下功能，就代表你能熟练使用汇编

1. 熟练学出函数：无参无返回值，无参有返回值，有参有返回值
2. 声明变量：全局变量，局部变量
3. 实现运算：基本运算，位运算
4. 熟练实现条件判断
5. 熟练实现循环结构

思考：为什么没有提到实现数组，字符串，结构体