1. 写一个别名，将所有要删除的文件，移动到创建的垃圾箱目录中，垃圾箱中，每天的垃圾文件都会放入"data-当前日期"的目录中，

``````shell
rm='dir=/Storage/backup/data-`date +%F`;mkdir -p $dir;mv -t $dir'
``````



2. 提示空间满NO space left on device，但df可以看到空间很多，为什么

``````
节点编号不足，一个文件能被创建需要同时满足两个前提
足够的空间，以及该文件系统下还有剩余的节点编号
``````



3. 将/etc/app目录下，所有的后缀为.conf的配置文件中的DEBUG=true，替换为DEBUG=false

```shell
sed -i 's/DEBUG=true/DEBUG=false/g' /etc/app/*.conf
```



4. 统计一篇文章article.txt中，出现频率最高的前5个单词?

``````shell
grep -Po "\b[a-zA-Z]+\b" article.txt |tr "A-Z" "a-z"|sort|uniq -c|sort -nr|head -5
``````



5. SHELL脚本中`$0` `$#` `$*` `$@` `$1` `$?`是什么？

``````
- $0: 脚本程序名称
- $#: 参数总数
- $*: 所有参数, 全部参数合为一个字符串
- $@: 所有参数, 每个参数为独立字符串
- $1: 第一个参数
- $?：退出状态码
``````



6. SHELL脚本中$(),$[],${}的使用场景分别是什么，(), {}, []的使用场景是什么

``````
- $()：用于命令替换。它会执行括号内的命令，并将输出结果替换到当前位置。
- $[]: 等价于$(( ))。 用于算术运算
- ${}: 用于变量替换和变量操作。可以用于复杂的变量操作，如字符串截取、替换等
- (): 用于命令组和子shell。括号内的命令会在一个子shell中执行
- []: 用于条件判断，注意表达式前后加空格
- {}: 用于命令块,命令块中的命令会在当前shell中执行
``````





7. 怎么在不影响应用运行的情况下，将数据迁移到新盘，简述过程和需要使用的关键命令

``````
# 将新盘加入到卷组：
pvcreate /dev/sdb  # 将新盘初始化为物理卷
vgextend mytest /dev/sdb1 # 将新盘加入到现有的卷组

# 迁移数据到新盘： 使用 pvmove 命令将数据从旧盘迁移到新盘上
pvmove /dev/sdc1 /dev/sdb1 # 将 /dev/sdc1（旧盘）上的数据迁移到卷组的/dev/sdb1

# 重新挂载
mount /dev/mytest/mylvs /data
# 查看数据还在
ls /data

# lsblk，发现逻辑卷所在磁盘成功移到新盘
lsblk
# 移除旧盘： 数据迁移完成后，您可以将旧盘从卷组中移除：
vgreduce mytest /dev/sdc1
``````



8.写出TCP三次握手过程

``````
三次握手：

初始阶段，客户端是CLOSE状态，服务端需要监听服务所在端口，因此处于LISTEN状态

客户端发来SYN分组，到达了服务器，此时客户端会从CLOSE状态立即变为SYN-SENT状态

SYN到达服务端，在服务器内核中，会将"根据SYN分组内容创建的内核数据结构实例"放入SYN队列中，同时会发送一个SYN+ACK数据分组给客户端，此时服务端从LISTEN状态变为SYN-RECEIVED状态

客户端收到SYN+ACK分组，会给服务端发送ACK分组，并从SYN-SENT状态变为ESTABLISTED状态

服务端收到ACK分组后会从SYN-RECEIVED状态转换为ESTABLISHED状态，但实际在内核中，会把之前放入SYN队列中的数据结构实例移出，放入ACCEPT队列中，然后由应用程序调用accept方法从ACCEPT队列中将该数据结构实例取出，并返回一个新的文件描述符，供应用程序进行后续数据处理和通信。该文件描述符对应的是一个新的 socket，通过它，应用程序可以继续与客户端进行数据收发。
``````



9. 写出ARP协议的作用与原理

``````
作用：ARP（地址解析协议）的主要作用是将网络层地址（如IP地址）转换为数据链路层地址（如MAC地址）。

原理：
显示发送一个包含有IP地址的请求广播给局域网的所有主机，对应IP的主机会返回一个数据包给发送请求的主机，该数据包中含有这个主机的MAC地址，交换机上记载着MAC地址对应的交换机接口，从而实现物理地址的寻址
``````



10. 以下是 6 个 IP 地址及其子网掩码，写出它们的网段地址及其网络范围
    - 192.168.10.5/23
    - 192.168.11.10/24
    - 192.168.10.130/25
    - 192.168.11.128/26
    - 192.168.10.70/22
    - 192.168.11.200/30

``````
192.168.10.5/23: 
网段地址:192.168.10.0
网路范围：（192.168.10.0~192.168.11.255）

192.168.11.10/24
网段地址: 192.168.11.0 
网路范围：198.168.11.0 ~ 192.168.11.255

192.168.10.130/25
网段地址: 192.168.10.128
网路范围：192.168.10.128~182.168.10.255

192.168.11.128/26
网段地址：192.168.11.128
网络范围；192.168.11.128~192.168.11.191

192.168.10.70/22
网段地址：192.168.8.0 
网络范围；192.168.8.0 ~ 192.168.11.255

192.168.11.200/30 
网段地址：192.168.11.200
网络范围；192.168.11.200~192.168.11.203
``````

